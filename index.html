<!doctype html>
<html lang=en>
<meta charset=utf-8>
<title>Chip Lehr: Floorplanning with Simulated Annealing</title>
<link rel=stylesheet href=tree.css>

<h1><a href=index.html>Chip Lehr</a></h1>
<p>Chip Lehr is a demonstration of the Simulated Annealing approach to floorplanning presented in <a href="http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.123.9831&rep=rep1&type=pdf"><i>A New Algorithm for Floorplanning</i> (1986)</a>, with some simplifications.</p>
<p>Hover over parts of the layout, tree, or expression to highlight corresponding versions.
   To go back to a previous expression after a move, use the back button of
   your browser. Click the title to reset to the initial expression.

<section id=slicing-rectangle>
  <h2>Slicing Layout</h2>
  <p>Area: <input readonly id=area></p>
  </section>

<section id=slicing-tree>
  <h2>Slicing Tree</h2>
</section>

<section id=polish-expression>
  <h2>Polish Expression</h2>
  <p>Click part of the expression to make a move if it is valid.</p>
  <div id=controls>Move Type:
    <form id=move-type>
      <label><input type=radio name=move value=0 checked>(M1) Swap two operands (click the first)</label><br>
      <label><input type=radio name=move value=1>(M2) Complement chain (click the start)</label><br>
      <label><input type=radio name=move value=2>(M3) Swap operand and operator (click the first)</label>
    </form>
  </div>
</section>

<section id=annealing>
  <h2>Annealing</h2>
  <div id=controls>
    <button id=start>Start</button>
    <button id=stop disabled>Stop</button>
  </div>
    Temperature: <meter min=0 max=10 id=temp-meter>Temperature</meter>
  </div>
  <div id=stats>
    <label>Moves: <input id="moves" value=0 readonly></label><br>
    <label>Last Area:<input id="last-cost" value=0 readonly></label><br>
    <label>Best Area:<input id="best-cost" value=0 readonly></label>
  </div>

  <div id=history></div>
</section>

<section id=edit-chips>
  <h2>Edit Chips</h2>
  <p>Edit the chip sizes here. Enter width/height pairs as integers in the
    pattern WxH, separated by whitespace.</p>
  <div>
  <button id=load>Load</button>
  <button id=randomize>Randomize</button>
  </div>
  <div>
    <textarea id=chips></textarea>
  </div>
</section>

<script src=http://d3js.org/d3.v3.min.js></script>
<script src=util.js></script>
<script src=lehr.js></script>
